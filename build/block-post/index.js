(()=>{"use strict";const e=window.wp.blocks,a=window.React,t=window.wp.element,l=window.wp.i18n,n=window.wp.blockEditor,r=window.wp.components,i=window.wp.data,o=window.wp.coreData;(0,e.registerBlockType)("sarika/block-post",{title:"Sarika - Block Post",category:"sarika-sections",icon:"grid-view",description:"Display posts from any post type with grid or slider layout.",supports:{align:["full","wide"],anchor:!0},attributes:{ane_title:{type:"string",default:""},ane_tagline:{type:"string",default:""},ane_description:{type:"string",default:""},ane_button_link:{type:"object",default:{title:"",url:"",target:""}},ane_button_style:{type:"string",default:"primary"},ane_post_type:{type:"string",default:"post"},ane_posts_per_page:{type:"number",default:4},ane_order_by:{type:"string",default:"date"},ane_order:{type:"string",default:"DESC"},ane_taxonomy_terms:{type:"array",default:[]},ane_layout:{type:"string",default:"grid"},ane_section_background:{type:"string",default:""},ane_padding_top:{type:"string",default:"large"},ane_padding_bottom:{type:"string",default:"large"},ane_margin_bottom:{type:"string",default:"large"},ane_container_background:{type:"string",default:""},ane_container_border_radius:{type:"number",default:0},ane_container_padding:{type:"number",default:0},ane_title_size:{type:"string",default:"small"},ane_title_color:{type:"string",default:""},ane_tagline_size:{type:"string",default:"hero"},ane_tagline_color:{type:"string",default:"primary"},ane_description_color:{type:"string",default:""},ane_alignment:{type:"string",default:"center"}},edit:function({attributes:e,setAttributes:s}){const{ane_title:_,ane_tagline:c,ane_description:g,ane_button_link:u,ane_button_style:d,ane_post_type:p,ane_posts_per_page:b,ane_order_by:m,ane_order:k,ane_taxonomy_terms:y,ane_layout:v,ane_section_background:C,ane_padding_top:h,ane_padding_bottom:E,ane_margin_bottom:S,ane_container_background:x,ane_container_border_radius:f,ane_container_padding:P,ane_title_size:w,ane_title_color:B,ane_tagline_size:$,ane_tagline_color:T,ane_description_color:O,ane_alignment:W}=e,[L,D]=(0,t.useState)(!1),[A,N]=(0,t.useState)(!1),[z,R]=(0,t.useState)(!1),[F,M]=(0,t.useState)(!1),[H,G]=(0,t.useState)(!1),I="post"===p?"category":"ane-service"===p?"service-category":null,{terms:U}=(0,i.useSelect)(e=>I?{terms:e(o.store).getEntityRecords("taxonomy",I,{per_page:-1,orderby:"name",order:"asc"})||[]}:{terms:[]},[I]),j=[{label:(0,l.__)("Default","sarika"),value:""},{label:(0,l.__)("Primary","sarika"),value:"primary"},{label:(0,l.__)("Secondary","sarika"),value:"secondary"},{label:(0,l.__)("Light","sarika"),value:"light"},{label:(0,l.__)("Dark","sarika"),value:"dark"},{label:(0,l.__)("Accent","sarika"),value:"accent"},{label:(0,l.__)("White","sarika"),value:"white"},{label:(0,l.__)("Black","sarika"),value:"black"},{label:(0,l.__)("Gradient Primary","sarika"),value:"gradient-primary"},{label:(0,l.__)("Gradient Dark","sarika"),value:"gradient-dark"}];let Q="sarika-block-post";Q+=` padding-top-${h}`,Q+=` padding-bottom-${E}`,Q+=` margin-bottom-${S}`,!C||C.startsWith("#")||C.startsWith("rgb")||(Q+=` bg-${C}`);const V={};(C?.startsWith("#")||C?.startsWith("rgb"))&&(V.backgroundColor=C);let q="container";!x||x.startsWith("#")||x.startsWith("rgb")||(q+=` bg-${x}`);const J={};(x?.startsWith("#")||x?.startsWith("rgb"))&&(J.backgroundColor=x),f>0&&(J.borderRadius=`${f}px`),P>0&&(J.padding=`${P}px`);let K=`text-${W}`,X=`title-${w}`;!B||B.startsWith("#")||B.startsWith("rgb")||(X+=` text-${B}`);const Y=B?.startsWith("#")||B?.startsWith("rgb")?{color:B}:{};let Z=`title-${$} title-tagline`;!T||T.startsWith("#")||T.startsWith("rgb")||(Z+=` text-${T}`);const ee=T?.startsWith("#")||T?.startsWith("rgb")?{color:T}:{};let ae="desc";!O||O.startsWith("#")||O.startsWith("rgb")||(ae+=` text-${O}`);const te=O?.startsWith("#")||O?.startsWith("rgb")?{color:O}:{},le=(0,n.useBlockProps)({className:Q,style:V});return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(n.InspectorControls,null,(0,a.createElement)(r.PanelBody,{title:(0,l.__)("Header Content","sarika"),initialOpen:!0},(0,a.createElement)(r.TextControl,{label:(0,l.__)("Title","sarika"),value:_,onChange:e=>s({ane_title:e})}),(0,a.createElement)(r.TextControl,{label:(0,l.__)("Tagline","sarika"),value:c,onChange:e=>s({ane_tagline:e})}),(0,a.createElement)(r.TextareaControl,{label:(0,l.__)("Description","sarika"),value:g,onChange:e=>s({ane_description:e}),rows:4})),(0,a.createElement)(r.PanelBody,{title:(0,l.__)("Optional Link","sarika"),initialOpen:!1},(0,a.createElement)(r.TextControl,{label:(0,l.__)("Link Text","sarika"),value:u?.title||"",onChange:e=>{const a={...u||{},title:e};s({ane_button_link:a})},placeholder:(0,l.__)("e.g., View More","sarika")}),(0,a.createElement)("div",{style:{marginBottom:"12px"}},(0,a.createElement)("label",{style:{display:"block",marginBottom:"8px",fontSize:"11px",fontWeight:500,lineHeight:"1.4",textTransform:"uppercase",color:"#1e1e1e"}},(0,l.__)("Link URL","sarika")),(0,a.createElement)(n.URLInput,{value:u?.url||"",onChange:e=>{const a={...u||{},url:e};s({ane_button_link:a})}})),(0,a.createElement)(r.ToggleControl,{label:(0,l.__)("Open in new tab","sarika"),checked:"_blank"===u?.target,onChange:e=>{const a={...u||{},target:e?"_blank":""};s({ane_button_link:a})}})),(0,a.createElement)(r.PanelBody,{title:(0,l.__)("Button Styles","sarika"),initialOpen:!1},(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Button Style","sarika"),value:d,options:[{label:(0,l.__)("Primary","sarika"),value:"primary"},{label:(0,l.__)("Primary Outline","sarika"),value:"primary-outline"},{label:(0,l.__)("Secondary","sarika"),value:"secondary"},{label:(0,l.__)("Secondary Outline","sarika"),value:"secondary-outline"},{label:(0,l.__)("White","sarika"),value:"white"},{label:(0,l.__)("White Outline","sarika"),value:"white-outline"},{label:(0,l.__)("Dark","sarika"),value:"dark"},{label:(0,l.__)("Dark Outline","sarika"),value:"dark-outline"},{label:(0,l.__)("Accent","sarika"),value:"accent"},{label:(0,l.__)("Accent Outline","sarika"),value:"accent-outline"}],onChange:e=>s({ane_button_style:e})})),(0,a.createElement)(r.PanelBody,{title:(0,l.__)("Post Query","sarika"),initialOpen:!0},(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Post Type","sarika"),value:p,options:[{label:(0,l.__)("Post (Blog)","sarika"),value:"post"},{label:(0,l.__)("Service","sarika"),value:"ane-service"},{label:(0,l.__)("Testimonial","sarika"),value:"ane-testimoni"}],onChange:e=>s({ane_post_type:e})}),I&&U.length>0&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"11px",fontWeight:500,lineHeight:"1.4",textTransform:"uppercase",color:"#1e1e1e"}},"category"===I?(0,l.__)("Filter by Category","sarika"):(0,l.__)("Filter by Service Category","sarika")),(0,a.createElement)("p",{style:{marginTop:"0",marginBottom:"8px",fontSize:"12px",color:"#757575"}},(0,l.__)("Leave all unchecked to show all posts","sarika")),U.map(e=>(0,a.createElement)(r.CheckboxControl,{key:e.id,label:e.name,checked:y.includes(e.id),onChange:a=>{const t=a?[...y,e.id]:y.filter(a=>a!==e.id);s({ane_taxonomy_terms:t})}}))),(0,a.createElement)(r.RangeControl,{label:(0,l.__)("Posts Per Page","sarika"),value:b,onChange:e=>s({ane_posts_per_page:e}),min:1,max:12,step:1}),(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Order By","sarika"),value:m,options:[{label:(0,l.__)("Date","sarika"),value:"date"},{label:(0,l.__)("Title","sarika"),value:"title"},{label:(0,l.__)("Random","sarika"),value:"rand"}],onChange:e=>s({ane_order_by:e})}),(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Order","sarika"),value:k,options:[{label:(0,l.__)("Descending (Newest First)","sarika"),value:"DESC"},{label:(0,l.__)("Ascending (Oldest First)","sarika"),value:"ASC"}],onChange:e=>s({ane_order:e})})),(0,a.createElement)(r.PanelBody,{title:(0,l.__)("Layout","sarika"),initialOpen:!1},(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Layout Type","sarika"),value:v,options:[{label:(0,l.__)("Grid (4 Columns)","sarika"),value:"grid"},{label:(0,l.__)("Slider","sarika"),value:"slider"}],onChange:e=>s({ane_layout:e})})),(0,a.createElement)(r.PanelBody,{title:(0,l.__)("Section Options","sarika"),initialOpen:!1},(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Section Background","sarika"),value:C,options:j,onChange:e=>s({ane_section_background:e})}),C&&(0,a.createElement)("div",{style:{marginTop:"12px"}},(0,a.createElement)(r.Button,{variant:"secondary",onClick:()=>D(!L)},(0,l.__)("Custom Color Picker","sarika")),L&&(0,a.createElement)(r.ColorPicker,{color:C,onChangeComplete:e=>s({ane_section_background:`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`}),disableAlpha:!1})),(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Padding Top","sarika"),value:h,options:[{label:"None",value:"none"},{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Extra Large",value:"xlarge"}],onChange:e=>s({ane_padding_top:e})}),(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Padding Bottom","sarika"),value:E,options:[{label:"None",value:"none"},{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Extra Large",value:"xlarge"}],onChange:e=>s({ane_padding_bottom:e})}),(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Margin Bottom","sarika"),value:S,options:[{label:"None",value:"none"},{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Extra Large",value:"xlarge"}],onChange:e=>s({ane_margin_bottom:e})})),(0,a.createElement)(r.PanelBody,{title:(0,l.__)("Container Settings","sarika"),initialOpen:!1},(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Container Background","sarika"),value:x,options:j,onChange:e=>s({ane_container_background:e})}),x&&(0,a.createElement)("div",{style:{marginTop:"12px"}},(0,a.createElement)(r.Button,{variant:"secondary",onClick:()=>N(!A)},(0,l.__)("Custom Color Picker","sarika")),A&&(0,a.createElement)(r.ColorPicker,{color:x,onChangeComplete:e=>s({ane_container_background:`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`}),disableAlpha:!1})),(0,a.createElement)(r.RangeControl,{label:(0,l.__)("Border Radius (px)","sarika"),value:f,onChange:e=>s({ane_container_border_radius:e}),min:0,max:50,step:1}),(0,a.createElement)(r.RangeControl,{label:(0,l.__)("Container Padding (px)","sarika"),value:P,onChange:e=>s({ane_container_padding:e}),min:0,max:100,step:5})),(0,a.createElement)(r.PanelBody,{title:(0,l.__)("Title Options","sarika"),initialOpen:!1},(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Title Size","sarika"),value:w,options:[{label:"Small",value:"small"},{label:"Description",value:"desc"},{label:"Body",value:"body"},{label:"Hero",value:"hero"}],onChange:e=>s({ane_title_size:e})}),(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Title Color","sarika"),value:B,options:j,onChange:e=>s({ane_title_color:e})}),B&&(0,a.createElement)("div",{style:{marginTop:"12px"}},(0,a.createElement)(r.Button,{variant:"secondary",onClick:()=>R(!z)},(0,l.__)("Custom Color Picker","sarika")),z&&(0,a.createElement)(r.ColorPicker,{color:B,onChangeComplete:e=>s({ane_title_color:`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`}),disableAlpha:!1}))),(0,a.createElement)(r.PanelBody,{title:(0,l.__)("Tagline Options","sarika"),initialOpen:!1},(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Tagline Size","sarika"),value:$,options:[{label:"Small",value:"small"},{label:"Description",value:"desc"},{label:"Body",value:"body"},{label:"Hero",value:"hero"}],onChange:e=>s({ane_tagline_size:e})}),(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Tagline Color","sarika"),value:T,options:j,onChange:e=>s({ane_tagline_color:e})}),T&&(0,a.createElement)("div",{style:{marginTop:"12px"}},(0,a.createElement)(r.Button,{variant:"secondary",onClick:()=>M(!F)},(0,l.__)("Custom Color Picker","sarika")),F&&(0,a.createElement)(r.ColorPicker,{color:T,onChangeComplete:e=>s({ane_tagline_color:`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`}),disableAlpha:!1}))),(0,a.createElement)(r.PanelBody,{title:(0,l.__)("Description Options","sarika"),initialOpen:!1},(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Description Color","sarika"),value:O,options:j,onChange:e=>s({ane_description_color:e})}),O&&(0,a.createElement)("div",{style:{marginTop:"12px"}},(0,a.createElement)(r.Button,{variant:"secondary",onClick:()=>G(!H)},(0,l.__)("Custom Color Picker","sarika")),H&&(0,a.createElement)(r.ColorPicker,{color:O,onChangeComplete:e=>s({ane_description_color:`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`}),disableAlpha:!1}))),(0,a.createElement)(r.PanelBody,{title:(0,l.__)("Layout Options","sarika"),initialOpen:!1},(0,a.createElement)(r.SelectControl,{label:(0,l.__)("Content Alignment","sarika"),value:W,options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],onChange:e=>s({ane_alignment:e})}))),(0,a.createElement)("div",{...le},(0,a.createElement)("div",{className:q,style:J},(0,a.createElement)("div",{className:K},_&&(0,a.createElement)("p",{className:X,style:Y},_),c&&(0,a.createElement)("h2",{className:Z,style:ee},c),g&&(0,a.createElement)("p",{className:ae,style:te},g),(0,a.createElement)("div",{className:"sarika-block-post__preview",style:{margin:"2rem 0",padding:"2rem",background:"#f5f5f5",borderRadius:"8px",textAlign:"center"}},(0,a.createElement)("p",{style:{margin:0,color:"#666",fontSize:"14px"}},"Preview: ",b," ","post"===p?"Posts":"ane-service"===p?"Services":"Testimonials"," â€¢ ","grid"===v?"Grid (4 Columns)":"Slider")),u?.url&&(0,a.createElement)("div",{className:"sarika-block-post__button"},(0,a.createElement)("a",{href:u.url,className:`btn btn--${d}`},u.title||(0,l.__)("Learn More","sarika")))))))},save:()=>null})})();