(()=>{"use strict";const a=window.wp.blocks,e=window.React,r=window.wp.blockEditor,t=window.wp.components,l=window.wp.i18n,n=window.wp.element;(0,a.registerBlockType)("sarika/gallery",{title:"Sarika - Gallery",description:"Display image gallery with grid, masonry, or sliding layout",icon:"format-gallery",category:"sarika-sections",attributes:{ane_images:{type:"array",default:[]},ane_gallery_type:{type:"string",default:"masonry"},ane_columns:{type:"number",default:3},ane_section_background:{type:"string",default:""},ane_padding_top:{type:"string",default:"large"},ane_padding_bottom:{type:"string",default:"large"},ane_margin_bottom:{type:"string",default:"none"},ane_container_background:{type:"string",default:""},ane_container_border_radius:{type:"number",default:0},ane_container_padding:{type:"number",default:0}},edit:({attributes:a,setAttributes:i})=>{const{ane_images:o,ane_gallery_type:s,ane_columns:_,ane_section_background:d,ane_padding_top:g,ane_padding_bottom:c,ane_margin_bottom:m,ane_container_background:u,ane_container_border_radius:p,ane_container_padding:k}=a,[b,y]=(0,n.useState)(!1),[v,E]=(0,n.useState)(!1),C=[{label:(0,l.__)("Default","sarika"),value:""},{label:(0,l.__)("White","sarika"),value:"white"},{label:(0,l.__)("Light","sarika"),value:"light"},{label:(0,l.__)("Dark","sarika"),value:"dark"},{label:(0,l.__)("Primary","sarika"),value:"primary"},{label:(0,l.__)("Secondary","sarika"),value:"secondary"},{label:(0,l.__)("Accent","sarika"),value:"accent"},{label:(0,l.__)("Gradient Primary","sarika"),value:"gradient-primary"},{label:(0,l.__)("Gradient Dark","sarika"),value:"gradient-dark"}];let h="sarika-gallery-editor";!d||d.startsWith("#")||d.startsWith("rgb")||(h+=` bg-${d}`),"none"!==g&&(h+=` padding-top-${g}`),"none"!==c&&(h+=` padding-bottom-${c}`);const x={padding:"20px",background:"#f5f5f5"};d&&(d.startsWith("#")||d.startsWith("rgb")?x.background=d:"gradient-primary"===d?x.background="linear-gradient(135deg, var(--sarika-color-primary) 0%, var(--sarika-color-secondary) 100%)":"gradient-dark"===d&&(x.background="linear-gradient(135deg, var(--sarika-color-dark) 0%, var(--sarika-color-primary) 100%)"));let S="";!u||u.startsWith("#")||u.startsWith("rgb")||(S+=` bg-${u}`);const w={};return u&&(u.startsWith("#")||u.startsWith("rgb")?w.background=u:"gradient-primary"===u?w.background="linear-gradient(135deg, var(--sarika-color-primary) 0%, var(--sarika-color-secondary) 100%)":"gradient-dark"===u&&(w.background="linear-gradient(135deg, var(--sarika-color-dark) 0%, var(--sarika-color-primary) 100%)")),p>0&&(w.borderRadius=`${p}px`),k>0&&(w.padding=`${k}px`),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(t.PanelBody,{title:(0,l.__)("Gallery Settings","sarika"),initialOpen:!0},(0,e.createElement)(t.SelectControl,{label:(0,l.__)("Gallery Type","sarika"),value:s,options:[{label:"Grid",value:"grid"},{label:"Masonry",value:"masonry"},{label:"Sliding",value:"sliding"}],onChange:a=>i({ane_gallery_type:a})}),(0,e.createElement)(t.RangeControl,{label:(0,l.__)("Columns (Desktop)","sarika"),value:_,onChange:a=>i({ane_columns:a}),min:1,max:6})),(0,e.createElement)(t.PanelBody,{title:(0,l.__)("Section Options","sarika"),initialOpen:!1},(0,e.createElement)(t.SelectControl,{label:(0,l.__)("Section Background","sarika"),value:d,options:C,onChange:a=>i({ane_section_background:a})}),d&&(0,e.createElement)("div",{style:{marginTop:"12px"}},(0,e.createElement)(t.Button,{variant:"secondary",onClick:()=>y(!b),style:{marginBottom:"8px"}},(0,l.__)("Custom Color Picker","sarika")),b&&(0,e.createElement)("div",null,(0,e.createElement)(t.ColorPicker,{color:d,onChangeComplete:a=>{i({ane_section_background:`rgba(${a.rgb.r}, ${a.rgb.g}, ${a.rgb.b}, ${a.rgb.a})`})},disableAlpha:!1}),(0,e.createElement)(t.Button,{variant:"link",isDestructive:!0,onClick:()=>{i({ane_section_background:""}),y(!1)},isSmall:!0},(0,l.__)("Reset","sarika")))),(0,e.createElement)(t.SelectControl,{label:(0,l.__)("Padding Top","sarika"),value:g,options:[{label:(0,l.__)("None","sarika"),value:"none"},{label:(0,l.__)("Small","sarika"),value:"small"},{label:(0,l.__)("Medium","sarika"),value:"medium"},{label:(0,l.__)("Large","sarika"),value:"large"},{label:(0,l.__)("Extra Large","sarika"),value:"xlarge"}],onChange:a=>i({ane_padding_top:a})}),(0,e.createElement)(t.SelectControl,{label:(0,l.__)("Padding Bottom","sarika"),value:c,options:[{label:(0,l.__)("None","sarika"),value:"none"},{label:(0,l.__)("Small","sarika"),value:"small"},{label:(0,l.__)("Medium","sarika"),value:"medium"},{label:(0,l.__)("Large","sarika"),value:"large"},{label:(0,l.__)("Extra Large","sarika"),value:"xlarge"}],onChange:a=>i({ane_padding_bottom:a})}),(0,e.createElement)(t.SelectControl,{label:(0,l.__)("Margin Bottom","sarika"),value:m,options:[{label:(0,l.__)("None","sarika"),value:"none"},{label:(0,l.__)("Small","sarika"),value:"small"},{label:(0,l.__)("Medium","sarika"),value:"medium"},{label:(0,l.__)("Large","sarika"),value:"large"},{label:(0,l.__)("Extra Large","sarika"),value:"xlarge"}],onChange:a=>i({ane_margin_bottom:a})})),(0,e.createElement)(t.PanelBody,{title:(0,l.__)("Container Settings","sarika"),initialOpen:!1},(0,e.createElement)(t.SelectControl,{label:(0,l.__)("Container Background","sarika"),value:u,options:[{label:(0,l.__)("Transparent (Default)","sarika"),value:""},...C.slice(1)],onChange:a=>i({ane_container_background:a})}),u&&(0,e.createElement)("div",{style:{marginTop:"12px"}},(0,e.createElement)(t.Button,{variant:"secondary",onClick:()=>E(!v),style:{marginBottom:"8px"}},(0,l.__)("Custom Color Picker","sarika")),v&&(0,e.createElement)("div",null,(0,e.createElement)(t.ColorPicker,{color:u,onChangeComplete:a=>{i({ane_container_background:`rgba(${a.rgb.r}, ${a.rgb.g}, ${a.rgb.b}, ${a.rgb.a})`})},disableAlpha:!1}),(0,e.createElement)(t.Button,{variant:"link",isDestructive:!0,onClick:()=>{i({ane_container_background:""}),E(!1)},isSmall:!0},(0,l.__)("Reset","sarika")))),(0,e.createElement)(t.RangeControl,{label:(0,l.__)("Border Radius (px)","sarika"),value:p,onChange:a=>i({ane_container_border_radius:a}),min:0,max:50,step:1}),(0,e.createElement)(t.RangeControl,{label:(0,l.__)("Container Padding (px)","sarika"),value:k,onChange:a=>i({ane_container_padding:a}),min:0,max:100,step:5}))),(0,e.createElement)("div",{className:h,style:x},(0,e.createElement)("div",{className:S,style:w},(0,e.createElement)("h3",null,(0,l.__)("Gallery Block","sarika")),(0,e.createElement)("p",{style:{marginBottom:"16px"}},(0,l.__)("Type:","sarika")," ",(0,e.createElement)("strong",null,s)," | ",(0,l.__)("Columns:","sarika")," ",(0,e.createElement)("strong",null,_)),(0,e.createElement)(r.MediaUploadCheck,null,(0,e.createElement)(r.MediaUpload,{onSelect:a=>{i({ane_images:a.map(a=>({id:a.id,url:a.url,alt:a.alt||"",caption:a.caption||""}))})},allowedTypes:["image"],multiple:!0,gallery:!0,value:o.map(a=>a.id),render:({open:a})=>(0,e.createElement)(t.Button,{variant:"primary",onClick:a},o.length>0?(0,l.__)("Edit Gallery Images","sarika"):(0,l.__)("Add Gallery Images","sarika"))})),o.length>0&&(0,e.createElement)("div",{style:{marginTop:"20px",display:"grid",gridTemplateColumns:`repeat(${_}, 1fr)`,gap:"16px"}},o.map((a,r)=>(0,e.createElement)("div",{key:a.id,style:{position:"relative",aspectRatio:"grid"===s?"1/1":"auto"}},(0,e.createElement)("img",{src:a.url,alt:a.alt,style:{width:"100%",height:"grid"===s?"100%":"auto",objectFit:"cover",display:"block"}}),(0,e.createElement)(t.Button,{isDestructive:!0,isSmall:!0,onClick:()=>(a=>{const e=[...o];e.splice(a,1),i({ane_images:e})})(r),style:{position:"absolute",top:"8px",right:"8px"}},(0,l.__)("Remove","sarika"))))),0===o.length&&(0,e.createElement)("p",{style:{marginTop:"16px",color:"#666"}},(0,l.__)("No images selected yet.","sarika")))))},save:()=>null})})();